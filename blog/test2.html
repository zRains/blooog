<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Cookies 登录验证 | zRain</title>
    <meta name="generator" content="VuePress 1.8.0">
    <link rel="icon" href="/blooog/img/logo.svg">
    <meta name="description" content="Just playing around">
    
    <link rel="preload" href="/blooog/assets/css/0.styles.e39823b3.css" as="style"><link rel="preload" href="/blooog/assets/js/app.dc9a3ffb.js" as="script"><link rel="preload" href="/blooog/assets/js/2.7529fa5d.js" as="script"><link rel="preload" href="/blooog/assets/js/7.320380f6.js" as="script"><link rel="prefetch" href="/blooog/assets/js/10.87a5119f.js"><link rel="prefetch" href="/blooog/assets/js/11.ae38bcd0.js"><link rel="prefetch" href="/blooog/assets/js/12.827e99f9.js"><link rel="prefetch" href="/blooog/assets/js/3.02ece611.js"><link rel="prefetch" href="/blooog/assets/js/4.1c431788.js"><link rel="prefetch" href="/blooog/assets/js/5.2aed7ba0.js"><link rel="prefetch" href="/blooog/assets/js/6.107e88ae.js"><link rel="prefetch" href="/blooog/assets/js/8.874132af.js"><link rel="prefetch" href="/blooog/assets/js/9.b09ce855.js">
    <link rel="stylesheet" href="/blooog/assets/css/0.styles.e39823b3.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="abyss-container"><div id="Navbar"><a href="/blooog/" class="home-link router-link-active"><img src="/blooog/img/logo.svg" alt="zRain" class="logo"> <span>zRain</span></a> <div class="util"></div> <div id="Viewer"><label><span>🌜</span> <span>🌞</span> <input type="checkbox"> <span class="toggle"></span></label></div> <div id="NavLinks"><div class="nav-item"><a href="/blooog/guide" class="nav-link">
  📄 记录册
</a> <!----></div><div class="nav-item"><a href="/blooog/collect/" class="nav-link">
  📂 收集
</a> <!----></div><div class="nav-item"><!----> <div class="NavDropdownLink"><span>📐 工具</span> <span></span> <div class="dropdown"><a href="/blooog/language/chinese/" class="nav-link">
  🎨 渐进色选取
</a></div></div></div><div class="nav-item"><!----> <div class="NavDropdownLink"><span>🎈 娱乐</span> <span></span> <div class="dropdown"><a href="/blooog/language/english/" class="nav-link">
  🌌 雪花绘画
</a></div></div></div><div class="nav-item"><!----> <div class="NavDropdownLink"><span>🧪 实验性</span> <span></span> <div class="dropdown"><a href="/blooog/language/chinese/" class="nav-link">
  🎵 音乐
</a></div></div></div></div></div> <div class="Page"><div class="abyss page-left content__default"><p>很少写登录方面的东西，不过这东西以后肯定是要做的。自己写了个后台就用上了登录，可能有点 low 但还是学到了不少。</p> <p><strong>生成 cookies</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> cookieParser <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'cookie-parser'</span><span class="token punctuation">)</span>

app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token function">cookieParser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

app<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'/api/login'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">request<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  res<span class="token punctuation">.</span><span class="token function">cookie</span><span class="token punctuation">(</span>
    <span class="token string">'SSID'</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> userName<span class="token operator">:</span> userName <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      maxAge<span class="token operator">:</span> <span class="token number">3000000</span><span class="token punctuation">,</span>
      httpOnly<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">)</span>
  res<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">{</span> stats<span class="token operator">:</span> <span class="token number">200</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></div> <div class="page-right"><section class="content-info"><div class="title">Cookies 登录验证</div> <div class="tag"><span>前端</span></div></section> <section class="content-header"><div>目录</div> <div><ul></ul></div></section></div></div> <!----></div><div class="global-ui"></div></div>
    <script src="/blooog/assets/js/app.dc9a3ffb.js" defer></script><script src="/blooog/assets/js/2.7529fa5d.js" defer></script><script src="/blooog/assets/js/7.320380f6.js" defer></script>
  </body>
</html>
